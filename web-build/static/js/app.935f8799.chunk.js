(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{203:function(e,t,n){"use strict";n(211);var r=n(16),a=n.n(r),c=n(17),o=n.n(c),i=n(0),s=n(19),l=n.n(s),u=n(6),d=n(23),j=n(70),b=n(59),h=n(61),f=n(165),O=n(72),p=Object(f.a)({apiKey:"AIzaSyDRmtzPF-mKzK-j5huVBXA4d-gBxp7KTQ8",authDomain:"coderhouse-react-f1d1b.firebaseapp.com",projectId:"coderhouse-react-f1d1b",storageBucket:"coderhouse-react-f1d1b.appspot.com"}),g=Object(O.d)(),m=Object(h.c)(p);Object(h.e)(m,h.a);Object(O.b)(g,"items");var x=function(e){var t=Object(O.b)(g,"orders");return Object(O.a)(t,e).id},y=(n(5),n(9)),w=function(){var e=Object(i.useContext)(C),t=e.state,n=e.clearProduct,r=function(){return t.reduce((function(e,t){return e+t.price}),0)};return Object(y.jsxs)(u.a,{children:[Object(y.jsx)(d.a,{children:"Cart 4324"}),Object(y.jsx)(j.a,{data:t,renderItem:function(e){var t=e.item;return Object(y.jsxs)(u.a,{children:[Object(y.jsx)(d.a,{children:t.name}),Object(y.jsx)(d.a,{children:t.price}),Object(y.jsx)(b.a,{onPress:function(){return n(t)},children:"Borrar"})]})},keyExtractor:function(e){return e.id}}),Object(y.jsx)(d.a,{children:r()}),Object(y.jsx)(b.a,{onPress:function(){return function(){var e,n;return l.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.awrap(l.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.awrap(m.currentUser);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),null,null,null,Promise));case 2:e=a.sent,console.log(e),n={buyer:e.email,items:t,total:r(),date:(new Date).toLocaleString()},x(n);case 6:case"end":return a.stop()}}),null,null,null,Promise)}()},children:"Hacer pedido"})]})},v=function(e){var t=e.children,n=Object(i.useState)([]),r=o()(n,2),c=r[0],s=r[1];return Object(y.jsx)(C.Provider,{value:{state:c,addToCart:function(e){(function(e){return 0!==c.filter((function(t){return t.id===e.id})).length})(e)||s([].concat(a()(c),[e]))},clearProduct:function(e){s(c.filter((function(t){return t.id!==e.id})))}},children:t})},C=Object(i.createContext)(),S=n(330),P=n(332),I="#2D93AD",k="#aac0af",B=n(331),T=n(4),z=n(128),D=n(1),R=n.n(D),E=T.a.create({container:{height:150,flex:1,borderRadius:6,shadowColor:"black",shadowOpacity:.26,shadowOffset:{width:0,height:2},shadowRadius:6,elevation:3,justifyContent:"flex-end",alignItems:"flex-end",padding:0},title:{color:"white"}});function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){R()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H=function(e){var t=e.item,n=e.onSelected;return Object(y.jsx)(u.a,{children:Object(y.jsx)(b.a,{onPress:function(){return n(t)},style:A(A({},E.container),{},{backgroundColor:t.color}),children:Object(y.jsx)(u.a,{style:{height:150,width:200,alignItems:"center",justifyContent:"center"},children:Object(y.jsx)(d.a,{style:E.title,children:t.title})})})})},K=[{id:1,title:"Harinas Puras",color:"#896978"},{id:2,title:"Harinas Integrales",color:"#839791"},{id:3,title:"Panes Saborizados",color:"#aac0af"},{id:4,title:"Otros Productos Panader\xeda",color:"#896978"}],L=T.a.create({btn:{marginLeft:20,backgroundColor:"gray",padding:10,color:"white",borderRadius:5},white:{color:"white"},container:{flex:1,alignItems:"center",justifyContent:"center",alignSelf:"stretch"},grid:{flex:1,alignItems:"stretch",flexDirection:"row"}}),N=function(e){var t=e.navigation,n=(e.route,function(e){t.navigate("Breads",{categoryId:e.id,name:e.title})});return Object(y.jsx)(u.a,{style:L.container,children:Object(y.jsx)(z.a,{data:K,numColumns:2,keyExtractor:function(e){return e.id},renderItem:function(e){var t=e.item;return Object(y.jsx)(H,{item:t,onSelected:n},t.id)}})})},V=function(e){var t=e.item,n=e.onSelected;return Object(y.jsx)(z.b,{onPress:function(){return n(t)},children:Object(y.jsxs)(u.a,{style:J.breadItem,children:[Object(y.jsx)(u.a,{children:Object(y.jsx)(d.a,{style:J.tit,children:t.name})}),Object(y.jsxs)(u.a,{children:[Object(y.jsx)(d.a,{style:J.details,children:t.price}),Object(y.jsx)(d.a,{style:J.details,children:t.weight})]})]})})},J=T.a.create({breadItem:{padding:20,margin:10,borderRadius:3,backgroundColor:"#ccc"},tit:{fontSize:20},details:{fontSize:18}}),M=[{id:1,category:1,name:"Pan Baguette",description:"Cl\xe1sico pan franc\xe9s",weight:"350gr",price:1600},{id:2,category:1,name:"Pan Ciabatta Blanco",description:"Pan de alta hidrataci\xf3n, miga alveolada y corteza crujiente",weight:"800gr",price:3e3},{id:3,category:1,name:"Pan Hamburguesa",description:"Textura suave, decorado con semillas de s\xe9samo tostadas",weight:"120gr",price:500},{id:4,category:2,name:"Pan de molde Integral de Centeno",description:"P\xeddelo entero o tajado, con o sin semillas",weight:"900gr",price:3300}],U=function(e){var t=e.navigation,n=e.route,r=M.filter((function(e){return e.category===n.params.categoryId}));return Object(y.jsx)(u.a,{children:Object(y.jsxs)(j.a,{data:r,keyExtractor:function(e){return e.id},renderItem:function(e){var n=e.item;return Object(y.jsx)(V,{item:n,onSelected:function(){return function(e){t.navigate("Detail",{bread:e})}(n)}})},children:[Object(y.jsx)(d.a,{children:n.params.name}),Object(y.jsx)(d.a,{children:n.params.categoryId})]})})},F=function(e){e.navigation;var t=e.route,n=Object(i.useContext)(C).addToCart,r=t.params.bread;return Object(y.jsxs)(u.a,{style:G.container,children:[Object(y.jsxs)(d.a,{style:G.title,children:[r.id," - ",r.name]}),Object(y.jsx)(d.a,{children:r.description}),Object(y.jsx)(d.a,{children:r.price}),Object(y.jsx)(d.a,{children:r.weight}),Object(y.jsx)(b.a,{onPress:function(){return n({id:r.id,name:r.name,price:r.price,weight:r.weight})},children:Object(y.jsx)(d.a,{children:"A\xf1adir al carrito"})})]})},G=T.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},title:{fontSize:20,marginBottom:10}}),Q=Object(B.a)(),X=function(){return Object(y.jsxs)(Q.Navigator,{screenOptions:{headerStyle:{backgroundColor:I},headerTintColor:k,headerTitleStyle:{fontWeight:"bold"}},children:[Object(y.jsx)(Q.Screen,{name:"Home",component:N}),Object(y.jsx)(Q.Screen,{name:"Breads",component:U}),Object(y.jsx)(Q.Screen,{name:"Detail",component:F})]})},q=Object(B.a)(),Y=function(){return Object(y.jsx)(q.Navigator,{screenOptions:{headerStyle:{backgroundColor:I},headerTintColor:k,headerTitleStyle:{fontWeight:"bold"}},children:Object(y.jsx)(q.Screen,{name:"Cart",component:w,options:{title:"Carrito"}})})},Z=n(142),$=Object(P.a)(),_=function(){return Object(y.jsxs)($.Navigator,{screenOptions:{headerStyle:{backgroundColor:I},headerShown:!1,tabBarShowLabel:!0,tabBarStyles:ee.tabBar,headerTintColor:k,headerTitleStyle:{fontWeight:"bold"}},children:[Object(y.jsx)($.Screen,{name:"ShopTab",component:X,options:{tabBarIcon:function(e){e.focused;return Object(y.jsx)(Z.a,{name:"md-home",size:30,color:"#900"})},title:"Shop"}}),Object(y.jsx)($.Screen,{name:"CartTab",component:Y,options:{tabBarIcon:function(e){e.focused;return Object(y.jsx)(Z.a,{name:"md-cart",size:30,color:"#900"})},title:"cart"}})]})},ee=T.a.create({tabBar:{shadowColor:"#7f5df0",shadowOffset:{width:0,height:0},shadowOpacity:.25,shadowRadius:.25,elevation:5,position:"absolute",bottom:25,left:20,right:20,borderRadius:15,height:90},item:{flex:1,justifyContent:"center",alignItems:"center"}}),te=n(198),ne=n(78),re=function(){var e=Object(i.useState)(!1),t=o()(e,2),n=(t[0],t[1],Object(i.useState)("")),r=o()(n,2),a=r[0],c=r[1],s=Object(i.useState)(""),j=o()(s,2),f=j[0],p=j[1];return Object(y.jsx)(te.a,{behavior:"height",style:ae.screen,children:Object(y.jsxs)(u.a,{style:ae.container,children:[Object(y.jsx)(d.a,{style:ae.title,children:"REGISTRO"}),Object(y.jsx)(d.a,{style:ae.label,children:"Email"}),Object(y.jsx)(ne.a,{style:ae.input,keyboardType:"email-address",autoCapitalize:"none",onChangeText:function(e){return c(e)}}),Object(y.jsx)(d.a,{style:ae.label,children:"Clave"}),Object(y.jsx)(ne.a,{style:ae.input,secureTextEntry:!0,autoCapitalize:"none",onChangeText:function(e){return p(e)}}),Object(y.jsxs)(u.a,{style:ae.prompt,children:[Object(y.jsx)(d.a,{style:ae.promptMessage,children:"\xbfTa tienes una cuenta?"}),Object(y.jsx)(b.a,{onPress:function(){return function(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.awrap(Object(h.f)(m,e,t).then((function(e){var t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),t=e.user,n.abrupt("return",t.uid);case 3:case"end":return n.stop()}}),null,null,null,Promise)})).catch((function(e){console.log(e)})));case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),null,null,null,Promise)}(a,f)},children:Object(y.jsx)(d.a,{style:ae.promptButton,children:"Ingresar"})})]}),Object(y.jsx)(b.a,{onPress:function(){return function(e,t){return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:Object(h.b)(m,e,t).then((function(e){var t;return l.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.user,n.next=3,l.a.awrap(Object(O.e)(Object(O.c)(g,"users",t.uid)));case 3:return n.abrupt("return",t.uid);case 4:case"end":return n.stop()}}),null,null,null,Promise)})).catch((function(e){console.log(e)}));case 1:case"end":return n.stop()}}),null,null,null,Promise)}(a,f)},children:Object(y.jsx)(d.a,{children:"Sign Up"})})]})})},ae=T.a.create({screen:{flex:1,justifyContet:"center",alignItems:"center"},title:{fontSize:24,fontWeight:"bold",marginBottom:18,textAlign:"center"},container:{width:"80%",maxWidth:400,padding:12,margin:12,borderColor:"#ccc",borderWidth:1,borderRadius:10,backgroundColor:"white"},prompt:{alignItems:"center"},promptMessage:{fontSize:16,color:"#333"},promptButton:{fontSize:16,color:I},button:{backgroundColor:I,marginVertical:20},label:{},input:{borderColor:"#ccc",borderWidth:1,borderRadius:10,padding:12,marginVertical:12,fontSize:16,color:"#333",backgroundColor:"#eee",width:"100%"}}),ce=function(){var e=Object(i.useState)(!1),t=o()(e,2),n=t[0],r=t[1];return console.log("isLogged",n),Object(i.useEffect)((function(){Object(h.d)(m,(function(e){if(e){console.log("user",e);e.uid;r(!0)}else console.log("No user logged"),r(!1)}))}),[]),Object(y.jsx)(S.a,{children:n?Object(y.jsx)(_,{}):Object(y.jsx)(re,{})})};t.a=function(){return Object(y.jsx)(v,{children:Object(y.jsx)(ce,{})})}},210:function(e,t,n){e.exports=n(322)}},[[210,1,2]]]);
//# sourceMappingURL=app.935f8799.chunk.js.map